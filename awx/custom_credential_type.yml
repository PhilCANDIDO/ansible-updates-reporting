---
# Custom Credential Type for SSH Configuration
name: "SSH Configuration"
description: "Custom SSH settings for ansible connections"
kind: "cloud"

inputs:
  fields:
    - id: ssh_args
      type: string
      label: SSH Arguments
      help_text: "Additional SSH arguments"
      default: "-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null"
    - id: pipelining
      type: boolean
      label: Enable Pipelining
      default: true
    - id: host_key_checking
      type: boolean
      label: Host Key Checking
      default: false
    - id: timeout
      type: integer
      label: Connection Timeout
      default: 30

injectors:
  extra_vars:
    ansible_ssh_common_args: "{{ ssh_args }}"
    ansible_ssh_pipelining: "{{ pipelining }}"
    ansible_host_key_checking: "{{ host_key_checking }}"
    ansible_timeout: "{{ timeout }}"
  env:
    ANSIBLE_HOST_KEY_CHECKING: "{{ 'False' if not host_key_checking else 'True' }}"
    ANSIBLE_PIPELINING: "{{ 'True' if pipelining else 'False' }}"
    ANSIBLE_TIMEOUT: "{{ timeout }}"