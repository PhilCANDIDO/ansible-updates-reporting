[defaults]
# AWX SSH Configuration
host_key_checking = False
retry_files_enabled = False
gathering = smart
timeout = 30
ansible_managed = Ansible managed

# Fact caching for AWX
fact_caching = jsonfile
fact_caching_connection = /tmp/facts_cache
fact_caching_timeout = 3600

# Reduce output verbosity
stdout_callback = yaml
stderr_callback = yaml
display_skipped_hosts = False
display_args_to_stdout = False

# Inventory
inventory_ignore_extensions = ~, .orig, .bak, .ini, .cfg, .retry, .pyc, .pyo, .swp

[privilege_escalation]
become = False
become_method = sudo
become_user = root
become_ask_pass = False

[ssh_connection]
# Critical SSH settings for AWX
ssh_args = -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null
host_key_checking = False
scp_if_ssh = True
pipelining = True
control_path_dir = /tmp/.ansible-cp
# Disable host key checking
ansible_host_key_checking = False
# Handle the SSH banner issue
ssh_args = -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -o LogLevel=ERROR

[paramiko_connection]
host_key_auto_add = True
look_for_keys = True